---
import Footer from "../../components/footer.astro";
import Nav from "../../components/nav.astro";
import Layout from "../../layouts/Layout.astro";
import CuestaDelVientoLocation from "../../components/svg/cuesta-del-viento-location.astro";
import TheSpotTopSeparator from "../../components/svg/the-spot-top-separator.astro";
import AboutUsUnderSeparator from "../../components/svg/about-us-under-separator.astro";
import { Icon } from "astro-icon/components";
import { useTranslations } from "../../i18n/utils";
import TheSpot1Photo from "../../assets/the-spot/the-spot-1.webp";
import TheSpot2Photo from "../../assets/the-spot/the-spot-2.webp";
import TheSpot3Photo from "../../assets/the-spot/the-spot-3.webp";
import TheSpot4Photo from "../../assets/the-spot/the-spot-4.webp";
import { Image } from "astro:assets";
import { getImage } from "astro:assets";
import headerImage from "../../assets/headers/header-3.webp";

export async function getStaticPaths() {
  return [{ params: { locale: "en" } }, { params: { locale: "es" } }];
}

const carouselImages = [
  {
    src: TheSpot1Photo,
    alt: "Cuesta del Viento",
  },
  {
    src: TheSpot2Photo,
    alt: "Cuesta del Viento",
  },
  {
    src: TheSpot3Photo,
    alt: "Cuesta del Viento",
  },
  {
    src: TheSpot4Photo,
    alt: "Cuesta del Viento",
  },
];

const optimizedImages = await Promise.all(
  carouselImages.map(async (image) => {
    const optimizedDesktop = await getImage({
      src: image.src,
      width: 1920,
      height: 1080, // 16:9 aspect ratio
      format: "webp",
      quality: 85,
    });

    const optimizedMobile = await getImage({
      src: image.src,
      width: 800,
      height: 450, // 16:9 aspect ratio
      format: "webp",
      quality: 85,
    });

    return {
      alt: image.alt,
      srcDesktop: optimizedDesktop.src,
      srcMobile: optimizedMobile.src,
      width: 1920,
      height: 1080,
    };
  }),
);

const lang = Astro.params.locale as "en" | "es";
const t = useTranslations(lang);
---

<Layout title="Cuesta del Viento | Fauna Kite " locale={Astro.params.locale}>
  <Fragment slot="head">
    <meta name="description" content={t("the-spot.meta.description")} />
    <link
      rel="canonical"
      href={`https://faunakite.com/${Astro.params.locale}/cuesta-del-viento`}
    />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="FAUNA Kite" />
    <meta property="og:title" content="Cuesta del Viento | FAUNA Kite" />
    <meta property="og:description" content={t("the-spot.meta.description")} />
    <meta
      property="og:url"
      content={`https://faunakite.com/${Astro.params.locale}/cuesta-del-viento`}
    />
    <meta
      property="og:image"
      content="https://faunakite.com/og/fauna-cuesta-del-viento.jpg"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Cuesta del Viento | FAUNA Kite" />
    <meta name="twitter:description" content={t("the-spot.meta.description")} />
    <meta
      name="twitter:image"
      content="https://faunakite.com/og/fauna-cuesta-del-viento.jpg"
    />
  </Fragment>

  <header>
    <Nav />
  </header>

  <main class="min-h-dvh bg-brand-light">
    <div class="relative w-full h-[220px] md:h-[300px]">
      <div class="absolute inset-0">
        <Image
          src={headerImage}
          alt="Header background"
          fetchpriority="high"
          class="w-full h-full object-cover object-[80%_55%]"
          widths={[640, 768, 1024, 1280, 1536]}
          sizes="100vw"
          quality={92}
        />
      </div>

      <div
        class="flex justify-center max-w-4xl mx-auto relative z-20 h-full items-end pb-4 md:pb-10"
      >
        <h1
          class="font-salted text-shadow-2xs text-shadow-brand-blue text-5xl md:text-8xl pr-4 md:pr-0"
        >
          Cuesta Del Viento
        </h1>
      </div>

      <div class="absolute bottom-0 left-0 w-full text-brand-blue">
        <TheSpotTopSeparator />
      </div>
    </div>

    <div class="bg-brand-blue">
      <div class="max-w-6xl mx-auto py-20">
        <div class="space-y-8 text-white text-lg md:text-xl px-4">
          <p>
            {t("the-spot.intro.p1")}
          </p>
        </div>
      </div>
    </div>

    <section class="relative bg-brand-light">
      <div
        class="relative bg-brand-light bg-[url('/cuesta-del-viento/white-wave-contrast-2.png')] bg-size-[42px_auto]"
      >
        <div
          class="relative z-20 text-brand-blue drop-shadow-xs drop-shadow-brand-blue"
        >
          <AboutUsUnderSeparator />
        </div>

        <div class="pt-10 px-4">
          <div class="max-w-7xl mx-auto">
            <div class="text-brand-blue">
              <p class="font-bold uppercase text-4xl md:text-6xl pb-6">
                {t("the-spot.impression.title")}
              </p>
              <p class="basis-1/5 space-y-4 text-lg text-brand-blue">
                {t("the-spot.impression.p1")}
              </p>
            </div>

            <div
              class="relative w-full grid md:grid-cols-2 pt-6 gap-x-10 gap-y-4"
            >
              <div class="w-full h-full">
                <Image
                  src={TheSpot1Photo}
                  alt="Vista aérea del Dique Cuesta del Viento - lugar perfecto para kitesurf"
                  class="rounded-2xl object-cover w-full h-[400px]"
                  loading="lazy"
                />
              </div>
              <div class="w-full h-full">
                <Image
                  src={TheSpot2Photo}
                  alt="Practicando windsurf en las aguas del Dique Cuesta del Viento"
                  class="rounded-2xl object-cover w-full h-[400px] object-[50%_100%]"
                  loading="lazy"
                />
              </div>
            </div>

            <div class="flex items-center gap-10 pt-6">
              <p class="basis-1/4 space-y-4 text-lg text-brand-blue">
                {t("the-spot.impression.p2")}
              </p>
              <div class="basis-3/4">
                <div class="relative w-full grid md:grid-cols-2 gap-10">
                  <div class="w-full h-full">
                    <Image
                      src={TheSpot3Photo}
                      alt="Vista aérea del Dique Cuesta del Viento - lugar perfecto para kitesurf"
                      class="rounded-2xl object-cover w-full h-[500px] object-[50%_100%]"
                      loading="lazy"
                    />
                  </div>
                  <div class="w-full h-full">
                    <Image
                      src={TheSpot4Photo}
                      alt="Practicando windsurf en las aguas del Dique Cuesta del Viento"
                      class="rounded-2xl object-cover w-full h-[500px] object-[50%_90%]"
                      loading="lazy"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- DONDE SIEMPRE SOPLA -->
        <div class="max-w-7xl mx-auto pt-20 md:pt-10">
          <div class="grid md:grid-cols-2 md:gap-x-10 gap-y-6">
            <div class="col-start-2 px-4">
              <!-- DONDE SIEMPRE SOPLA SVG -->
              <svg
                class="w-full max-w-3xl mx-auto"
                viewBox="290 530 500 120"
                xmlns="http://www.w3.org/2000/svg"
              >
                <defs>
                  <path id="arcDondeSiempreSopla" d="M101 631Q712 679 797 550"
                  ></path>
                </defs>

                <text
                  font-size="30"
                  fill="currentColor"
                  font-weight="600"
                  letter-spacing="3"
                >
                  <textPath
                    href="#arcDondeSiempreSopla"
                    startOffset="50%"
                    text-anchor="middle"
                    class="font-salted text-brand-blue"
                  >
                    donde siempre sopla
                  </textPath>
                </text>

                <text
                  x="660"
                  y="500"
                  font-size="30"
                  fill="currentColor"
                  font-weight="600"
                  letter-spacing="3"
                  class="font-salted text-brand-blue"
                  transform="rotate(-70 740 570)"
                >
                  a
                </text>

                <text
                  x="650"
                  y="600"
                  font-size="30"
                  fill="currentColor"
                  font-weight="600"
                  letter-spacing="3"
                  class="font-salted text-brand-blue"
                >
                  a
                </text>

                <text
                  x="450"
                  y="400"
                  font-size="30"
                  fill="currentColor"
                  font-weight="600"
                  letter-spacing="3"
                  class="font-salted text-brand-blue"
                  transform="rotate(-40 800 170)"
                  opacity="0.85"
                >
                  a
                </text>
              </svg>
            </div>

            <div class="relative flex md:overflow-hidden">
              <div
                class="absolute inset-0 w-full p-4 md:p-0 top-20 md:top-0 md:w-[70%] lg:w-[65%] opacity-20 md:opacity-100 z-0 h-full object-contain"
              >
                <CuestaDelVientoLocation />
              </div>
            </div>

            <div
              class="space-y-8 md:space-y-10 text-lg max-w-prose relative z-10 text-brand-blue row-span-1 px-4"
            >
              <!-- <h4 class="text-2xl font-bold text-brand-blue">
                DONDE SIEMPRE SOPLA
              </h4> -->
              <p>
                {t("the-spot.wind.p1")}
              </p>

              <p>
                {t("the-spot.wind.p2")}
              </p>

              <p>
                {t("the-spot.wind.p3")}
              </p>

              <p>
                {t("the-spot.wind.p4")}
              </p>

              <p>
                {t("the-spot.wind.p5")}
              </p>
            </div>
          </div>
        </div>

        <!-- MAS QUE KITE -->
        <div class="pb-20 pt-20 md:pt-30 relative">
          <div id="mas-que-kite" class="max-w-5xl mx-auto text-brand-blue px-4">
            <div
              class="grid gap-y-4 place-content-center md:justify-items-center text-brand-blue"
            >
              <!-- <p>
                Rodeo y sus alrededores ofrecen experiencias para todos los
                gustos.
              </p> -->
              <h2 class="font-bold text-4xl md:text-6xl">
                {t("the-spot.more-than-kite.title")}
              </h2>
            </div>

            <ul
              class="grid grid-cols-2 overflow-hidden md:overflow-visible md:grid-cols-3 gap-6 md:gap-10 pt-10 md:pt-20 relative"
            >
              <li
                class="text-center flex flex-col items-center relative bg-white shadow-news-card rounded-2xl"
              >
                <div class="h-[350px] w-full">
                  <img
                    src="https://trayectoriasenviaje.com/wp-content/uploads/2019/10/Rodeo_san_juan-40.jpg"
                    alt="Dique Cuesta del Viento"
                    class="rounded-t-2xl object-cover w-full h-full filter-bluish-dark"
                  />
                </div>
                <div class="px-2 py-4">
                  <span class="text-sm md:text-base">
                    {t("the-spot.more-than-kite.item1")}
                  </span>
                </div>
              </li>

              <li
                class="text-center flex flex-col items-center relative bg-white shadow-news-card rounded-2xl"
              >
                <div class="h-[350px] w-full">
                  <img
                    src="https://sanjuan.tur.ar/media/k2/galleries/49/cabalgata-barreal1.jpg"
                    alt="Dique Cuesta del Viento"
                    class="rounded-t-2xl object-cover w-full h-full filter-bluish-dark"
                  />
                </div>
                <div class="px-2 py-4">
                  <span class="text-sm md:text-base">
                    {t("the-spot.more-than-kite.item2")}
                  </span>
                </div>
              </li>

              <li
                class="text-center flex flex-col items-center relative bg-white shadow-news-card rounded-2xl"
              >
                <div class="h-[350px] w-full">
                  <img
                    src="https://discoveryseakayak.com/wp-content/uploads/2025/06/dsk_kayaking_group.jpg"
                    alt="Dique Cuesta del Viento"
                    class="rounded-t-2xl object-cover w-full h-full filter-bluish-dark"
                  />
                </div>
                <div class="px-2 py-4">
                  <span class="text-sm md:text-base">
                    {t("the-spot.more-than-kite.item3")}
                  </span>
                </div>
              </li>

              <li
                class="text-center flex flex-col items-center relative bg-white shadow-news-card rounded-2xl"
              >
                <div class="h-[350px] w-full">
                  <img
                    src="https://centrosantafe.com.mx/cdn/shop/articles/los-5-mejores-restaurantes-de-carne.jpg?v=1559341579"
                    alt="Dique Cuesta del Viento"
                    class="rounded-t-2xl object-cover w-full h-full filter-bluish-dark"
                  />
                </div>
                <div class="px-2 py-4">
                  <span class="text-sm md:text-base">
                    {t("the-spot.more-than-kite.item4")}
                  </span>
                </div>
              </li>

              <li
                class="text-center flex flex-col items-center relative bg-white shadow-news-card rounded-2xl"
              >
                <div class="h-[350px] w-full">
                  <img
                    src="https://media.tiempodesanjuan.com/p/a1b0ca7efe90d236b720a97743e2699d/adjuntos/331/imagenes/000/761/0000761315/790x0/smart/imagepng.png"
                    alt="Dique Cuesta del Viento"
                    class="rounded-t-2xl object-cover w-full h-full filter-bluish-dark"
                  />
                </div>
                <div class="px-2 py-4">
                  <span class="text-sm md:text-base">
                    {t("the-spot.more-than-kite.item5")}
                  </span>
                </div>
              </li>

              <li
                class="text-center flex flex-col items-center bg-white shadow-news-card rounded-2xl"
              >
                <div class="h-[350px] w-full">
                  <img
                    src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2b/2d/9e/e3/pampa-bar.jpg?w=1000&h=-1&s=1"
                    alt="Dique Cuesta del Viento"
                    class="rounded-t-2xl object-cover w-full h-full filter-bluish-dark"
                  />
                </div>
                <div class="px-2 py-4">
                  <span class="text-sm md:text-base">
                    {t("the-spot.more-than-kite.item6")}
                  </span>
                </div>
              </li>
            </ul>

            <div class="pt-10 flex justify-center max-w-7xl mx-auto">
              <a
                class="bg-brand-red hover:bg-white hover:text-brand-red border hover:border-brand-red transition-colors duration-200 cursor-pointer text-white text-base px-6 py-2 font-bold rounded-2xl"
                href={`/${lang}/benefits`}
              >
                {t("the-spot.more-than-kite.cta")}
              </a>
            </div>
          </div>
        </div>

        <div class="relative w-full h-dvh">
          <div
            class="absolute inset-0 bg-no-repeat md:bg-position-[bottom_70%_right_50%] bg-position-[bottom_70%_right_35%] bg-cover"
            style="background-image: url('/cuesta-del-viento/flying.png');"
          >
          </div>

          <div class="absolute left-0 bottom-0 w-full text-celeste-3 z-20">
            <TheSpotTopSeparator />
          </div>
        </div>

        <!-- COMO LLEGAR -->
        <div id="mas-que-kite-como-llegar" class="pb-10">
          <div class="bg-celeste-3 py-20">
            <div class="md:text-center px-4 md:px-0 text-white spae-y-2">
              <h2 class="font-bold text-4xl md:text-6xl pb-2">
                {t("the-spot.how-to-get.title")}
              </h2>
              <p>
                {t("the-spot.how-to-get.intro")}
              </p>
            </div>

            <div class="py-10 max-w-7xl mx-auto">
              <div class="grid md:grid-cols-5 gap-x-10 px-4">
                <div class="md:col-span-2 space-y-4 text-white">
                  <div class="space-y-2">
                    <h3 class="font-bold text-lg">
                      {t("the-spot.how-to-get.sanjuan.title")}
                    </h3>
                    <p>
                      {t("the-spot.how-to-get.sanjuan.text")}
                    </p>
                  </div>

                  <div class="space-y-2">
                    <h3 class="font-bold text-lg">
                      {t("the-spot.how-to-get.mendoza.title")}
                    </h3>
                    <p>
                      {t("the-spot.how-to-get.mendoza.text")}
                    </p>
                  </div>

                  <div class="space-y-2">
                    <h3 class="font-bold text-lg">
                      {t("the-spot.how-to-get.cordoba.title")}
                    </h3>
                    <p>
                      {t("the-spot.how-to-get.cordoba.text")}
                    </p>
                  </div>

                  <div class="space-y-2">
                    <h3 class="font-bold text-lg">
                      {t("the-spot.how-to-get.buenos-aires.title")}
                    </h3>
                    <p>
                      {t("the-spot.how-to-get.buenos-aires.text")}
                    </p>
                  </div>
                </div>

                <div class="md:col-span-3 pt-10 md:pt-0">
                  <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d54467.75347765515!2d-69.1173416182144!3d-30.18664593872637!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9684bb8638777e6d%3A0x44246635a8420f27!2sFauna%20Kite!5e0!3m2!1ses-419!2sar!4v1766591363583!5m2!1ses-419!2sar"
                    width="100%"
                    height="450"
                    class="border-none rounded-md"
                    allowfullscreen=""
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
              </div>
            </div>
          </div>

          <div class="text-celeste-3">
            <AboutUsUnderSeparator />
          </div>
        </div>

        <div class="max-w-7xl mx-auto pb-20 px-4">
          <div
            id="como-llegar"
            class="grid md:grid-cols-3 max-w-2xl md:max-w-full text-brand-blue text-lg md:gap-20 gap-10 px-4 md:px-0"
          >
            <div class="space-y-8">
              <div class="flex justify-center">
                <Icon name="combi" class="size-32 text-brand-blue" />
              </div>
              <p class="">
                <strong>Tip:</strong>
                {t("the-spot.tips.carpool.text")}
                <a
                  class="underline whatsapp-btn"
                  target="_blank"
                  rel="noopener noreferrer"
                  >{t("the-spot.tips.carpool.link")}
                </a>
                {t("the-spot.tips.carpool.suffix")}
              </p>
            </div>

            <div class="space-y-8">
              <div class="flex justify-center">
                <Icon name="cabana" class="w-36 h-32 text-brand-blue" />
              </div>
              <p class="">
                {t("the-spot.tips.mobility")}
              </p>
            </div>

            <div class="space-y-8">
              <div class="flex justify-center">
                <Icon name="mochila" class="size-28 text-brand-blue" />
              </div>
              <p class="">
                {t("the-spot.tips.things-to-bring")}
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script>
  import { initializeWhatsAppButton } from "../../modules/utils/whatsapp";

  document.addEventListener("astro:page-load", () => {
    initializeWhatsAppButton(".whatsapp-btn", "");
  });
</script>
