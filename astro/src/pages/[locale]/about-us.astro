---
import { Image } from "astro:assets";
import Nav from "../../components/nav.astro";
import Layout from "../../layouts/Layout.astro";
import AboutUsUnderSeparator from "../../components/svg/about-us-under-separator.astro";
import Footer from "../../components/footer.astro";
import CommunityTopSeparator from "../../components/svg/community-top-separator.astro";
import aboutUsPhoto1 from "../../assets/about-us/camioneta.webp";
import aboutUsPhoto2 from "../../assets/about-us/playa-3.webp";
import TheSpotTopSeparator from "../../components/svg/the-spot-top-separator.astro";
import { useTranslations } from "../../i18n/utils";
import headerImage from "../../assets/headers/header-2.webp";
import FacuPhoto from "../../assets/about-us/team/facu.webp";
import AugustoPhoto from "../../assets/about-us/team/augusto.webp";
import FrancoPhoto from "../../assets/about-us/team/franco.webp";
import LuccaPhoto from "../../assets/about-us/team/lucca.webp";
import MikaelPhoto from "../../assets/about-us/team/mikael.webp";
import EmaPhoto from "../../assets/about-us/team/emaa.webp";
import PiliPhoto from "../../assets/about-us/team/pili.webp";

export async function getStaticPaths() {
  return [{ params: { locale: "en" } }, { params: { locale: "es" } }];
}

const lang = Astro.params.locale as "en" | "es";
const t = useTranslations(lang);

const team = [
  {
    name: "Lucca",
    image: LuccaPhoto,
    position: t("about.team.lucca.position"),
    description: t("about.team.lucca.description"),
    languages: t("about.team.lucca.languages"),
    objectPosition: "object-top",
  },
  {
    name: "Facu",
    image: FacuPhoto,
    position: t("about.team.facu.position"),
    description: t("about.team.facu.description"),
    languages: t("about.team.facu.languages"),
    objectPosition: "object-bottom",
  },
  {
    name: "Pili",
    image: PiliPhoto,
    position: t("about.team.pili.position"),
    description: t("about.team.pili.description"),
    languages: t("about.team.pili.languages"),
    objectPosition: "",
  },
  {
    name: "Augusto",
    image: AugustoPhoto,
    position: t("about.team.augusto.position"),
    description: t("about.team.augusto.description"),
    languages: t("about.team.augusto.languages"),
    objectPosition: "object-top",
  },
  {
    name: "Mikael",
    image: MikaelPhoto,
    position: t("about.team.mikael.position"),
    description: t("about.team.mikael.description"),
    languages: t("about.team.mikael.languages"),
    objectPosition: "object-top",
  },
  {
    name: "Franco",
    image: FrancoPhoto,
    position: t("about.team.franco.position"),
    description: t("about.team.franco.description"),
    languages: t("about.team.franco.languages"),
    objectPosition: "",
  },
  {
    name: "Ema",
    image: EmaPhoto,
    position: t("about.team.ema.position"),
    description: t("about.team.ema.description"),
    objectPosition: "object-[50%_70%] scale-150",
  },
];
---

<Layout title="Quienes Somos | Fauna Kite " locale={Astro.params.locale}>
  <Fragment slot="head">
    <meta name="description" content={t("about.meta.description")} />
    <link
      rel="canonical"
      href={`https://faunakite.com/${Astro.params.locale}/about-us`}
    />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="FAUNA Kite" />
    <meta property="og:title" content="Quiénes Somos | FAUNA Kite" />
    <meta property="og:description" content={t("about.meta.description")} />
    <meta
      property="og:url"
      content={`https://faunakite.com/${Astro.params.locale}/about-us`}
    />
    <meta
      property="og:image"
      content="https://faunakite.com/og/fauna-about.jpg"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Quiénes Somos | FAUNA Kite" />
    <meta name="twitter:description" content={t("about.meta.description")} />
    <meta
      name="twitter:image"
      content="https://faunakite.com/og/fauna-about.jpg"
    />
  </Fragment>

  <header>
    <Nav />
  </header>

  <main class="min-h-dvh bg-brand-light">
    <div class="relative w-full h-[220px] md:h-[300px]">
      <div class="absolute inset-0">
        <Image
          src={headerImage}
          alt="Header background"
          fetchpriority="high"
          class="w-full h-full object-cover object-[80%_60%]"
          widths={[640, 768, 1024, 1280, 1536]}
          sizes="100vw"
          quality={92}
        />
      </div>

      <div
        class="flex justify-center max-w-4xl mx-auto relative z-20 h-full items-end pb-4 md:pb-10"
      >
        <h1
          class="font-salted text-shadow-2xs text-shadow-brand-blue text-6xl md:text-8xl pr-4 md:pr-0"
        >
          {t("about.hero.title")}
        </h1>
      </div>

      <div class="absolute bottom-0 left-0 w-full text-brand-blue">
        <TheSpotTopSeparator />
      </div>
    </div>

    <div class="bg-brand-blue">
      <div class="max-w-6xl mx-auto space-y-8 py-20">
        <div class="space-y-8 text-white text-lg md:text-xl px-4">
          <p>
            {t("about.intro.p1")}
          </p>

          <p>
            {t("about.intro.p2")}
          </p>

          <p>
            {t("about.intro.p3")}
          </p>
        </div>
      </div>
    </div>

    <div class="relative">
      <div
        class="bg-brand-light bg-[url('/cuesta-del-viento/white-wave-contrast-2.png')] bg-size-[42px_auto]"
      >
        <div class="text-brand-blue drop-shadow-xs drop-shadow-brand-blue">
          <AboutUsUnderSeparator />
        </div>

        <div class="max-w-7xl mx-auto px-4 py-20">
          <div class="pb-10 text-brand-blue space-y-4">
            <h3 class="font-bold uppercase text-4xl md:text-6xl">
              {t("about.team.title")}
            </h3>
          </div>

          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-12"
          >
            {
              team.map((member) => (
                <div class="group ">
                  <div class="bg-white p-2 shadow-news-card rounded-2xl overflow-hidden text-brand-blue">
                    <div class="h-[250px] md:h-[350px] relative overflow-hidden">
                      <Image
                        src={member.image}
                        alt={`${member.name} - ${member.position} en FAUNA Kite`}
                        class={`w-full h-full object-cover rounded-xl ${member.objectPosition}`}
                      />
                      <div class="absolute bg-linear-to-t from-black/40 to-transparent h-[25%] w-full bottom-0 rounded-xl" />
                      <div class="absolute bottom-2 left-4 right-4">
                        <h3 class="text-2xl sm:text-3xl font-bold text-white mb-2">
                          {member.name}
                        </h3>
                      </div>
                    </div>
                    <div class="space-y-4 p-4">
                      <p class="text-brand-red">{member.position}</p>

                      <div class="">
                        <p class="text-sm text-muted-foreground leading-relaxed mb-4">
                          {member.description}
                        </p>
                      </div>
                      {member.languages !== undefined && (
                        <div class=" flex items-center gap-2 font-bold">
                          <span class="text-xs">
                            {t("about.cards.language")}:
                          </span>
                          <div class="flex gap-2 items-center">
                            {member.languages.split(", ").map((idioma) => (
                              <span class="bg-brand-light/70 px-2 py-1 rounded-md text-xs">
                                {idioma}
                              </span>
                            ))}
                          </div>
                        </div>
                      )}
                    </div>
                  </div>
                </div>
              ))
            }
          </div>
        </div>

        <!-- NUESTRA HISTORIA -->
        <div class="pb-20">
          <div class="max-w-7xl mx-auto px-4 pt-20">
            <h3
              class="font-bold uppercase text-4xl md:text-6xl text-brand-blue pb-10"
            >
              {t("about.history.title")}
            </h3>
          </div>

          <div class="">
            <div
              class="max-w-7xl mx-auto grid md:grid-cols-12 md:grid-rows-[repeat(1,minmax(0,300px))] text-brand-blue"
            >
              <div class="md:col-span-4 p-4">
                <div class="md:px-4 space-y-4">
                  <div class="font-bold text-3xl font-salted">2013</div>
                  <p>
                    {t("about.history.2013.text")}
                  </p>
                </div>
              </div>
              <div class="relative md:col-span-8 py-8 md:py-4 md:px-12 px-4">
                <img
                  src={aboutUsPhoto1.src}
                  alt="About Us Photo 1"
                  class="w-full h-full object-cover rounded-md md:[clip-path:polygon(5%_0,100%_0,100%_100%,5%_100%,0_50%)]"
                />
              </div>
            </div>
          </div>

          <div class="">
            <div
              class="max-w-7xl mx-auto grid md:grid-cols-12 md:grid-rows-[repeat(1,minmax(0,300px))] text-brand-blue"
            >
              <div class="md:col-span-4 p-4 md:order-2">
                <div class="md:px-4 space-y-4">
                  <div class="font-bold text-3xl font-salted">2016</div>
                  <p>
                    {t("about.history.2016.text")}
                  </p>
                </div>
              </div>
              <div
                class="relative md:col-span-8 py-8 md:py-4 md:px-12 px-4 md:order-1"
              >
                <img
                  src={aboutUsPhoto2.src}
                  alt="About Us Photo 2"
                  class="w-full h-full object-cover rounded-md object-[30%_40%] md:[clip-path:polygon(0_0,95%_0,100%_50%,95%_100%,0_100%)]"
                />
              </div>
            </div>
          </div>

          <div class="">
            <div
              class="max-w-7xl mx-auto grid md:grid-cols-12 md:grid-rows-[repeat(1,minmax(0,300px))] text-brand-blue"
            >
              <div class="md:col-span-4 p-4">
                <div class="md:px-4 space-y-4">
                  <div class="font-bold text-3xl font-salted">2020</div>
                  <p>
                    {t("about.history.2020.text")}
                  </p>
                </div>
              </div>
              <div class="relative md:col-span-8 py-8 md:py-4 md:px-12 px-4">
                <img
                  src="/about-us/historia-3.jpg"
                  alt="About Us Photo 3"
                  class="w-full h-full object-cover rounded-md md:[clip-path:polygon(5%_0,100%_0,100%_100%,5%_100%,0_50%)]"
                />
              </div>
            </div>
          </div>

          <div class="">
            <div
              class="max-w-7xl mx-auto grid md:grid-cols-12 md:grid-rows-[repeat(1,minmax(0,300px))] text-brand-blue"
            >
              <div class="md:col-span-4 p-4 md:order-2">
                <div class="md:px-4 space-y-4">
                  <div class="font-bold text-3xl font-salted">2024</div>
                  <p>
                    {t("about.history.2024.text")}
                  </p>
                </div>
              </div>
              <div
                class="relative md:col-span-8 py-8 md:py-4 md:px-12 px-4 md:order-1"
              >
                <img
                  src="/about-us/historia-4.jpeg"
                  alt="About Us Photo 4"
                  class="w-full h-full object-cover rounded-md md:[clip-path:polygon(0_0,95%_0,100%_50%,95%_100%,0_100%)]"
                />
              </div>
            </div>
          </div>
        </div>

        <div class="text-celeste-3">
          <CommunityTopSeparator />
        </div>

        <div class="bg-celeste-3 pb-10">
          <div class="relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pt-20">
            <div class="flex flex-col md:flex-row items-center gap-30 py-10">
              <div class="md:basis-3/5 grid place-content-center">
                <div class="space-y-8 text-xl leading-relaxed tracking-wide">
                  <p class="text-center text-2xl font-bold md:text-left">
                    {t("about.present.title")}
                  </p>
                  <p>
                    {t("about.present.p1")}
                  </p>
                  <p>
                    {t("about.present.p2")}
                  </p>

                  <p>
                    {t("about.present.p3")}
                  </p>
                </div>
              </div>

              <div class="md:basis-2/5 hidden md:block">
                <div
                  class="relative w-full aspect-9/16 rounded-2xl overflow-hidden shadow-news-card"
                >
                  <video
                    poster="/logos/logo-blanco-square.png"
                    autoplay
                    loop
                    muted
                    playsinline
                    class="absolute inset-0 w-full h-full object-cover"
                  >
                    <source src="/videos/about.webm" type="video/webm" />
                    Your browser does not support the video tag.
                  </video>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <Footer fill />
</Layout>
